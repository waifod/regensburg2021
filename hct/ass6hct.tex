\documentclass[a4paper,11pt,openany]{scrartcl}
\usepackage{../reg2021}
\usepackage{../quiver}

\begin{document}
\noindent\textbf{Authors}\hfill\textbf{Semester} \linebreak
\vspace*{-.1cm} Matteo Durante, Yuhao Zhang\hfill WS 2020/21 \\

\noindent
\rule{\linewidth}{1pt}
\begin{center}
\Large
\textbf{Higher Category Theory} \\
Assignment 5
\end{center}
\rule{\linewidth}{1pt}
\\

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%sheet4
\newcommand{\La}{\Lambda}
\newcommand{\pa}{\partial}
\newcommand{\ob}{\operatorname{Ob}}
\newcommand{\mor}{\operatorname{Mor}}
\newcommand{\sto}{\twoheadrightarrow}

%%%sheet5
\newcommand{\plim}{\varprojlim}
\newcommand{\sst}{\subseteq}
\newcommand{\eq}{\operatorname{eq}}

%%%sheet6
\newcommand{\f}{\varphi}

\exercise{1}
\begin{proof}
(1) From definition one sees that $\Ob(\cA)=\Ob(\cA_0)\cup\Ob(\cA_1)$. We construct the functor $u\colon\cA\to\cC*\cD$ as follows: on objects, 
\[
u(a):=\left\{
\begin{array}{ll}
u_0(a),&\text{if }a\in\Ob(\cA_0)\\
u_1(a),&\text{if }a\in\Ob(\cA_1)
\end{array}
\right.
\]
and on morphisms,
\[
u(a\to b):=\left\{
\begin{array}{ll}
u_i(a\to b),&\text{if } a,b\in\Ob(\cA_i),\ i=0,1\\
0,&\text{if $a\in\Ob(\cA_0)$ and $b\in\Ob(\cA_1)$}.
\end{array}
\right.
\]
Note that there is no $a\to b$ with $a\in\Ob(\cA_1)$ and $b\in\Ob(\cA_0)$, since otherwise applying $q\colon\cA\to[1]$ to it yields a morphism $1\to0$. From the definition it follows that the restriction of $u$ to $\cA_0$ and $\cA_1$ are $u_0$ and $u_1$ respectively. Next we check that $pu=q$. Indeed, we have $pu(a)=pu_i(a)=i=q(a)$ for $a\in\Ob(\cA_i)$ ($i=0,1$), and
\[
pu(a\to b)=\left\{
\begin{array}{ll}
pu_i(a\to b)=\id_i=q(a\to b),&\text{if }a,b\in\Ob(\cA_i),\ i=0,1\\
0\to 1=q(a\to b),&\text{if }a\in\Ob(\cA_0)\text{ and }b\in\Ob(\cA_1).
\end{array}
\right.
\]
Suppose that there is another $u'\colon\cA\to\cC*\cD$ such that $pu'=q$ and that $u'$ restricts to $u_i$ on $\cA_i$. Then $u$ and $u'$ agree on $\cA_i$, and for any $a\to b$ in $\cA$ with $a\in\Ob(\cA_0)$, $b\in\Ob(\cA_1)$, $u'(a\to b)=u(a\to b)-0$ is the only morphism between $u(a)=u'(a)\in\Ob(\cC)$ and $u(b)=u'(b)\in\Ob(\cD)$. Hence $u=u'$.\\
\\
(2) Recall that $N(\cC)*N(\cD)$ is given by
\[
(N(\cC)*N(\cD))_n=\coprod_{\substack{i+1+j=n\\-1\leqslant i,j\leqslant n}}N(\cC)_i\times N(\cD)_j
\]
for each $[n]\in\Ob(\Delta)$. We then define a map
\[
\f_n\colon (N(\cC)*N(\cD))_n\to N(\cC*\cD)_n
\]
as below. Take an arbitrary $(x,y)\in N(\cC)_i\times N(\cD)_j$ with $-1\leqslant i,j\leqslant n$ and $i+1+j=n$, where $x$ or $y$ may be empty. Then $(x,y)$ corresponds to a unique $([i]\overset{u_0}{\to}\cC,[j]\overset{u_1}{\to}\cD)$ via the adjunction $\tau\dashv N$ plus the facts that the counit is an isomorphism and $\Delta^i=N([i])$. Moreover, let us define a functor $q\colon[n]\to[1]$ by sending $i\mapsto0$ and $i+1\mapsto 1$. Then by (1), we get a unique functor $u\colon[n]\to\cC*\cD$ such that $q=pu$ and $u|_{[i]}=u_0$, $u|_{[j]}=u_1$, where $p\colon\cC*\cD\to[1]$ is the same as in (1). Again under the adjunction, $u$ corresponds uniquely to a simplicial map $\Delta^n\to N(\cC*\cD)$ (a.k.a an element of $N(\cC*\cD)_n$), which we denote by $\f_n(x,y)$.

We claim that $\f_n$ is a bijection. To this end, we construct an inverse $\psi_n$ to $\f_n$. Take an element $z$ in $N(\cC*\cD)_n$, and it corresponds via adjunction to some $u\colon[n]\to\cC*\cD$. Put $q:=pu$, $i:=\max\{i\mid q(i)=0\}$ and $j:=n-i-1$. Then we can define $u_0\colon[i]\to \cC$ by restricting $u$ to $[i]$, and $u_1\colon[j]\to\cD$ by the composition $[j]\overset{k\mapsto k+i+1}{\longrightarrow}[n]\overset{u}{\to}\cC*\cD$, which actually lands in $\cD$. Again the pair $(u_0,u_1)$ corresponds under adjunction to an element of $N(\cC)_i\times N(\cD)_j$, for which we write $\psi_n(z)$. 

The well-definedness of $\f_n$ and $\psi_n$ lies in the adjunction bijection and the universal property of joins, which in every step of out construction provides a unique choice. 

Verifying $\psi_n$ and $\f_n$ being mutually inverse is straightforward. For example, to check that $\f_n\psi_n=\id_{N(\cC*\cD)_n}$, we consider an arbitrary $u\colon[n]\to\cC*\cD$ and $u_0,u_1$ constructed as above. By the universal property of joins, the $u'\colon[n]\to\cC*\cD$ such that $q=pu'$ and $u'|_{[i]}=u_0$, $u'|_{[j]}=u_1$ is unique (and thus equals to $u$), which corresponds to the image under $\f_n\psi_n$. The argument for $\psi_n\f_n=\id_{(N(\cC)*N(\cD))_n}$ is similar.

In what follows we show that the bijection $\f_n\colon (N(\cC)*N(\cD))_n\to N(\cC*\cD)_n$ is functorial in $[n]$. For this, we take a functor $f\colon[m]\to[n]$ and $-1\leqslant i,j\leqslant n$ such that $i+j+1=n$. Then there exists a unique pair of integers $(a,b)$  and functors $f_a\colon[a]\to[i]$, $f_b\colon[b]\to[j]$ satisfying $a+1+b=m$ and $f_a*f_b=f$. Explicitly, one has $a=\max\{a\mid f(a)\leqslant i\}$, $f_a(k)=f(k)$ and $f_b(k)=f(k+a+1)-i-1$. Consider the following diagram
\[
\begin{tikzcd}
(N(\cC)*N(\cD))_n\arrow[r]\arrow[d]& N(\cC*\cD)_n\arrow[d]\\
(N(\cC)*N(\cD))_m\arrow[r]& N(\cC*\cD)_m
\end{tikzcd}
\quad
\begin{tikzcd}[sep=small]
(x,y)\arrow[rr,mapsto]\arrow[d,mapsto]&& \f_n(x,y)\arrow[d,mapsto]\\
(f^*_ax,f^*_by)\arrow[r,mapsto]& \f_m(f^*_ax,f^*_by)& f^*\f_n(x,y)
\end{tikzcd}
\]
Note that under the adjunction, $f^*\f_n(x,y)$ corresponds to $u\circ f$, whereas $f^*_ax$, $f^*_by$ corresponds to $u_0\circ f_a$ and $u_1\circ f_b$, which correspond to some $u'\colon[m]\to\cC*\cD$. Note that the restriction of $u\circ f$ on $[a]$ and $[b]$ are respectively $u_0\circ f_a$ and $u_1\circ f_b$, and also that $p\circ u'=q_m=q_n\circ f=p\circ u\circ f$, where $q_m\colon[m]\to[1]$ and $q_n\colon[n]\to[1]$ are given by $[a]\mapsto0,[a+1]\mapsto1$ and $[i]\mapsto0,[i+1]\mapsto1$ respectively. By the universal property of joins (1), one has $u'=u\circ f$. Therefore $\f_m(f^*_ax,f^*_bx)=f^*\f_n(x,y)$, and in conclusion, $\f_n$ is functorial with regard to $[n]$.

So far we have proved $N(\cC*\cD)\cong N(\cC)* N(\cD)$.
\end{proof}

\newpage
\exercise{2}
\begin{proof}
    (1) Notice that $N(0)=\Delta^{-1}$. Now, applying (1.2), we see that
    $\Delta^i*\Delta^{n-i-1}=N([i])*N([n-i-1])\cong N([i]*[n-i-1])$, so it is
    enough to check that $[n]\cong [i]*[n-i-1]$.

    In $[i]*[n-i-1]$ there is exactly one morphism between any pair of objects
    coming from $[i]$ or from $[n-i-1]$. Also, given an object in $[i]$ and one
    in $[n-i-1]$, by definition of $[i]*[n-i-1]$ there is exactly one morphism
    between the two of them in this category, from the former to the latter.
    This shows that $[i]*[n-i-1]$ is an order and, since its set of objects has
    cardinality $n+1=(i+1)+((n-i-1)+1)$ like the one of $[n]$, we get that the
    two categories are (uniquely) isomorphic, as desired. \\

    (2) \\

    (3) Let's apply the operator $(-)^{\op}$ to the commutative diagram
    \[\begin{tikzcd}
	{\Lambda^n_k} & {X*Y} \\
	{\Delta^n} & {\Delta^1}
	\arrow["{u}", from=1-1, to=1-2]
	\arrow["{v}"', from=2-1, to=2-2]
	\arrow[from=1-1, to=2-1]
	\arrow["{p}", from=1-2, to=2-2]
    \end{tikzcd},\]
    giving us a commutative diagram which admits a filler $g$ by (2.2). Here we
    use the fact that $(X*Y)^{\op}\cong Y^{\op}*X^{\op}$.
    \[\begin{tikzcd}
	{\Lambda^n_{n-k}} & {Y^{\op}*X^{\op}} \\
	{\Delta^n} & {\Delta^1}
	\arrow["{u^{\op}}", from=1-1, to=1-2]
	\arrow["{v^{\op}}"', from=2-1, to=2-2]
	\arrow[from=1-1, to=2-1]
	\arrow["{p^{\op}}", from=1-2, to=2-2]
	\arrow["{g}" description, from=2-1, to=1-2, dotted]
    \end{tikzcd}\]
    By reapplying the operator (which is an involution) we get then the desired
    filler $f=g^{\op}$.
    \[\begin{tikzcd}
	{\Lambda^n_k} & {X*Y} \\
	{\Delta^n} & {\Delta^1}
	\arrow["{u}", from=1-1, to=1-2]
	\arrow["{v}"', from=2-1, to=2-2]
	\arrow[from=1-1, to=2-1]
	\arrow["{p}", from=1-2, to=2-2]
	\arrow["{f}" description, from=2-1, to=1-2, dotted]
    \end{tikzcd}\] \\

    (4) Since the diagram is commutative and the map on the left is a
    monomorphism, the fact that $v(j)=0$ is equivalent
    to $pu(j)=0$ and therefore, by definition of $p$ and $i$, $u(j)\in X_0$ for
    all $0\leq j\leq i$, $u(j)\in Y_0$ for all $i<j\leq n$.

    Suppose to have a lifting $f$ already. We will start showing its uniqueness
    by rewriting $\Delta^n$ as $\Delta^i*\Delta^{n-i-1}$. This gives us the
    restrictions $v|_{\Delta^i}=v|_{v^{-1}(0)}$,
    $v|_{\Delta^{n-i-1}}=v|_{v^{-1}(1)}$, which map all 0-simplices respectively
    to 0 and 1 by our previous ovservation. Precomposing by the inclusion
    $\Lambda^n_i\rightarrow\Delta^n_i$, we get that $v|_{\Delta^i}=pu|_{\Delta^i}$,
    $v|_{\Delta^{n-i-1}}=pu|_{\Delta^{n-i-1}}$, thus all of $\Delta^i$ is sent
    to $X$ and all of $\Delta^{n-i-1}$ to $Y$ under $u$ by the description of
    $p$. This allows us to construct the following commutative diagram

    \[\begin{tikzcd}
	&& {X\sqcup Y} \\
	{\Delta^i\sqcup\Delta^{n-i-1}} & {\Lambda^n_i} & {X*Y} \\
	{\Delta^i*\Delta^{n-i-1}} & {\Delta^n} & {\Delta^1} \\
	{\partial\Delta^1} \\
	\arrow["{u}", from=2-2, to=2-3]
	\arrow["{v}", from=3-2, to=3-3]
	\arrow[from=2-2, to=3-2, hook]
	\arrow["{p}", from=2-3, to=3-3]
	\arrow[from=3-1, to=3-2, shift right=1, no head]
	\arrow[from=3-1, to=3-2, no head]
	\arrow[from=2-1, to=3-1, hook]
	\arrow[from=1-3, to=2-3, hook]
	\arrow[from=2-1, to=2-2, hook]
    \arrow["{f}" description, from=3-2, to=2-3, dotted]
	\arrow["{u|_{\Delta^i}\sqcup u|_{\Delta^{n-i-1}}}", from=2-1, to=1-3]
	\arrow[from=2-1, to=4-1, curve={height=46pt}]
	\arrow[from=4-1, to=3-3]
    \end{tikzcd}\]
    Now, restricting our focus to the commutative diagram
    \[\begin{tikzcd}
	& {X\sqcup Y} & {X*Y} \\
	{\Delta^i\sqcup\Delta^{n-i-1}} & {\Delta^n} \\
	{\partial\Delta^1} & {\Delta^1} \\
	\arrow[from=1-2, to=1-3, hook]
	\arrow["{v}", from=2-2, to=3-2]
	\arrow["{p}", from=1-3, to=3-2, curve={height=-6pt}]
	\arrow["{f}" description, from=2-2, to=1-3, dotted]
	\arrow["{u|_{\Delta^i}\sqcup u|_{\Delta^{n-i-1}}}", from=2-1, to=1-2]
	\arrow[from=2-1, to=3-1]
	\arrow[from=3-1, to=3-2, hook]
	\arrow[from=1-2, to=3-1, curve={height=-6pt}]
	\arrow[from=2-1, to=2-2, hook, crossing over]
    \end{tikzcd},\]
    we see that there can be at most one $f$ solving our initial lifting problem
    since all solutions must fill this diagram and we have the universal
    property of the join.

    Notice now that
    $u|_{\Delta^i}*u|_{\Delta^{n-i-1}}\colon\Delta^n\cong\Delta^i*\Delta^{n-i-1}\rightarrow
    X*Y$ solves the lifting problem we started from by construction, hence the
    thesis. \\

    (5) Since the nerve functor is fully faithful, this is equivalent to
    $N(ho(X*Y))\cong N(ho(X)*ho(Y))\cong N(ho(X))*N(ho(Y))$, which we may do by
    exhibiting the universal property of the morphism $X*Y\rightarrow
    N(ho(X))*N(ho(Y))$ obtained by joining the universal morphisms $\eta_X\colon
    X\rightarrow N(ho(X))$, $\eta_Y\colon Y\rightarrow N(ho(Y))$.

    Notice that, since both maps are surjective on every level, so will be their
    join, which will then be an epimorphism, granting us the uniqueness of an eventual
    factorization of $f\colon X*Y\rightarrow N(\cC)$. We now construct a
    candidate factorization $g$ in the unique way possible, that is by sending
    $([t_X],[t_Y])\in (N(ho(X))*N(ho(y)))_n$ to $f(t_X,t_Y)\in N(\cC)_n$ and
    $([t_X],*),(*,[t_Y])$ to $f(t_X,*),f(*,t_Y)$ respectively. If these
    associations are well-defined, then naturality follows trivially since for
    any morphism $[m]\rightarrow [n]$ we have the diagram
    \[\begin{tikzcd}
	{(X*Y)_n} & {(N(ho(X))*N(ho(Y)))_n} & {N(\cC)_n} \\
	{(X*Y)_m} & {(N(ho(X))*N(ho(Y)))_m} & {N(\cC)_m}
	\arrow[from=1-2, to=1-3]
	\arrow[from=2-2, to=2-3]
	\arrow[from=1-2, to=2-2]
	\arrow[from=1-3, to=2-3]
	\arrow[from=2-1, to=2-2]
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-1, to=2-1]
	\arrow[from=1-1, to=1-3, curve={height=-18pt}]
	\arrow[from=2-1, to=2-3, curve={height=18pt}]
    \end{tikzcd},\]
    where the outer square, the one on the left and the triangles all commute
    and the horizontal arrows on the left are epimorphisms.

    Let's check that the construction is well-defined. One only needs to check
    on objects (where it is trivial) and on morphisms since every other element
    of the join of the nerves is constructed from them and the codomain is the
    nerve of a category.

    --------------
    It is enough to check that $ho(X*Y)$ has the universal property of the join
    of $ho(X)$ and $ho(Y)$. Let's consider then functors $q\colon\cA\rightarrow
    [1]$, $u_0\colon\cA_0\rightarrow ho(X)$, $u_1\colon\cA_1\rightarrow ho(Y)$
    and the obvious embedding $ho(X)\sqcup ho(Y)\rightarrow ho(X*Y)$ (it's
    faithful because joining two $\infty$-categories does not produce new
    2-simplices establishing homotopy relations between the morphisms in $X$ or
    in $Y$).

    We construct a lift $f\colon\cA\rightarrow ho(X*Y)$ by composing
    $u_0\sqcup u_1$ with the embedding, which gives us
    $a\mapsto u_i(a)$ for $a\in\Ob(\cA_i)$, $g\mapsto u_i(g)$ for
    $g\in\mor(\cA_i)$. To extend then this functor to $\cA$, we are forced to send maps
    $a_0\rightarrow a_1$ to the unique morphism $f(a_0)\rightarrow f(a_1)$ given
    by the element $(f(a_0),f(a_1))\in X_0*Y_0\subset (X*Y)_1$. Notice that
    there are no morphisms $a_1\rightarrow a_0$ in $\cA$ by the definition of
    the $\cA_i$ since they would need to be mapped to an arrow $1\rightarrow 0$
    under q, which is not there.

    We see that identities are trivially preserved and compositions of arrows all in $\cA_i$
    are too since the $u_i$ and the embedding are functors. If one composes
    instead an arrow with one whose domain and codomain lie in different
    categories the result is again a map with domain and codomain lieing in
    different categories.
\end{proof}

\end{document}
